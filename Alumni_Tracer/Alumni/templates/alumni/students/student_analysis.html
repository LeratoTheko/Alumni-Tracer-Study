<!DOCTYPE html>
<html lang="en">
<head>


    {% load static %}
    <meta charset="UTF-8">
    <title>Students Portal</title>

    <link rel="shortcut icon" type="x-icon" href="{% static 'images/download.png'%}">
    <link rel="stylesheet" href="{% static 'stylesheet/ict.css' %}">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body style="background-color: #CFD8DC;">

    {% include 'alumni/students/students_nav.html' %}


    <div class="container" style="margin-bottom: 100px;">
        <h1 class="mt-5" style="margin-left: 450px; font-weight: bold;">Survey Analysis</h1>

        <h2 style="font-weight: bold;">Analysis by Faculty</h2>

        <div class="container" style="margin-left: 250px; margin-bottom: 20px; margin-top: 20px;">
            <img src="data:image/png;base64,{{ graph }}" alt="Bar Graph">
        </div>

        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Faculty</th>
                    <th>Total Responses</th>
                </tr>
            </thead>
            <tbody>
                {% for stat in faculty_stats %}
                <tr>
                    <td>{{ stat.faculty }}</td>
                    <td>{{ stat.total }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="mt-4">
            <h2 style="font-weight: bold; margin-left: 450px;">Summary</h2>
            <p>This bar graph shows the total survey responses by faculty. It provides an overview of the distribution of survey responses among different faculties. The total responses samopng all the faculties is {{ overall_total_responses }}</p>
        </div>

        <h2 style="font-weight: bold;">Analysis by Gender</h2>


        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Gender</th>
                    <th>Total Responses</th>
                </tr>
            </thead>
            <tbody>
                {% for stat in gender_stats %}
                <tr>
                    <td>{{ stat.gender }}</td>
                    <td>{{ stat.total }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <h2 style="font-weight: bold;">Analysis by Satisfaction Level</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Total Responses</th>
                </tr>
            </thead>
            <tbody>
                {% for stat in satisfaction_stats %}
                <tr>
                    <td>{{ stat.total }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>